--- origsrc/CGNS-4.5.1/CMakeLists.txt	2026-01-01 08:13:35.000000000 +0900
+++ src/CGNS-4.5.1/CMakeLists.txt	2026-01-01 20:48:41.854229900 +0900
@@ -479,3 +479,10 @@ endif ()
 
 # Include the src directory
 add_subdirectory(src)
+
+set(prefix ${CMAKE_INSTALL_PREFIX})
+set(exec_prefix ${CMAKE_INSTALL_PREFIX})
+set(libdir ${CMAKE_INSTALL_PREFIX}/lib)
+set(includedir ${CMAKE_INSTALL_PREFIX}/include)
+configure_file(${CMAKE_SOURCE_DIR}/cgns.pc.in ${CMAKE_BINARY_DIR}/cgns.pc @ONLY)
+install(FILES ${CMAKE_BINARY_DIR}/cgns.pc DESTINATION ${CMAKE_INSTALL_PREFIX}/lib/pkgconfig)
--- origsrc/CGNS-4.5.1/cgns.pc.in	1970-01-01 09:00:00.000000000 +0900
+++ src/CGNS-4.5.1/cgns.pc.in	2026-01-01 20:48:13.123575300 +0900
@@ -0,0 +1,10 @@
+prefix=@prefix@
+exec_prefix=@exec_prefix@
+libdir=@libdir@
+includedir=@includedir@
+
+Name: CGNS
+Description: Computational Fluid Dynamics General Notation System
+Version: @VERSION@
+Libs: -L${libdir} -lcgns
+Cflags: -I${includedir}
--- origsrc/CGNS-4.5.1/src/CMakeLists.txt	2026-01-01 08:13:35.000000000 +0900
+++ src/CGNS-4.5.1/src/CMakeLists.txt	2026-01-01 20:57:45.972003000 +0900
@@ -592,13 +592,6 @@ endif ()
 
 option(CGNS_USE_SHARED "Link programs to the CGNS shared library" "ON")
 
-# Build a static version of the library
-add_library(cgns_static STATIC ${cgns_FILES} $<$<BOOL:${CGNS_ENABLE_FORTRAN}>:$<TARGET_OBJECTS:cgns_f2c>>)
-add_library(CGNS::cgns-static ALIAS cgns_static)
-# Needed to work around a CMake > 3.8 bug on Windows with MSVS and Intel Fortran
-set_property(TARGET cgns_static PROPERTY LINKER_LANGUAGE C)
-target_link_libraries(cgns_static PRIVATE $<$<BOOL:${CGNS_ENABLE_HDF5}>:hdf5-${CG_HDF5_LINK_TYPE}>)
-
 # Build a shared version of the library
 if(CGNS_BUILD_SHARED)
   mark_as_advanced(CLEAR CGNS_USE_SHARED)
@@ -630,22 +623,6 @@ else()
   mark_as_advanced(FORCE CGNS_USE_SHARED)
 endif()
 
-# Include the local directory
-target_include_directories(cgns_static BEFORE
-	PRIVATE
-	${CMAKE_CURRENT_BINARY_DIR}
-	${CMAKE_CURRENT_SOURCE_DIR}
-
-	INTERFACE
-	$<BUILD_INTERFACE:${CMAKE_CURRENT_BINARY_DIR}>
-	$<BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}>
-	$<INSTALL_INTERFACE:include>)
-if (CGNS_ENABLE_HDF5)
-  if(HDF5_NEED_MPI AND MPI_INC)
-    target_include_directories(cgns_static PRIVATE ${MPI_INC})
-  endif()
-endif ()
-
 if (CGNS_BUILD_SHARED)
   target_include_directories(cgns_shared BEFORE
         PRIVATE
@@ -664,16 +641,11 @@ if (CGNS_BUILD_SHARED)
 endif()
 
 if (CGNS_ENABLE_MEM_DEBUG)
-  target_compile_definitions(cgns_static PRIVATE "-DMEM_DEBUG")
   if (CGNS_BUILD_SHARED)
     target_compile_definitions(cgns_shared PRIVATE "-DMEM_DEBUG")
   endif()
 endif()
 
-
-# Change the output name of the library to be libcgns
-set_target_properties(cgns_static PROPERTIES OUTPUT_NAME cgns)
-set_target_properties(cgns_static PROPERTIES CLEAN_DIRECT_OUTPUT 1)
 if(CGNS_BUILD_SHARED)
   # for windows we need to change the name of the shared library
   # for both static and shared version to coexist
@@ -685,21 +657,15 @@ if(CGNS_BUILD_SHARED)
   set_target_properties(cgns_shared PROPERTIES CLEAN_DIRECT_OUTPUT 1)
 endif()
 
-# Set the version numbers
-set_target_properties(cgns_static PROPERTIES VERSION "${CGNS_VERSION}")
-set_target_properties(cgns_static PROPERTIES SOVERSION "${CGNS_VERSION}")
-
 if(CGNS_BUILD_SHARED)
   set_target_properties(cgns_shared PROPERTIES VERSION "${CGNS_VERSION}")
   set_target_properties(cgns_shared PROPERTIES SOVERSION "${CGNS_VERSION}")
 endif()
 
-
-set (install_targets cgns_static)
 if(CGNS_BUILD_SHARED)
   set(install_targets ${install_targets} cgns_shared)
 endif ()
-# Set the install path of the static and shared library
+# Set the install path of the shared library
 # for windows, need to install both cgnsdll.dll and cgnsdll.lib
 install (TARGETS ${install_targets}
          EXPORT cgns-targets
@@ -725,7 +691,7 @@ if (CGNS_ENABLE_FORTRAN)
       ${CMAKE_Fortran_MODULE_DIRECTORY}/cgns.mod)
   else()
     list(APPEND headers
-      $<TARGET_FILE_DIR:cgns_static>/cgns.mod)
+      $<TARGET_FILE_DIR:cgns_shared>/cgns.mod)
   endif()
 endif ()
 
