--- origsrc/jcal-0.5.1/sources/Makefile.am	2025-03-25 19:06:01.000000000 +0900
+++ src/jcal-0.5.1/sources/Makefile.am	2026-01-13 09:19:25.815418900 +0900
@@ -16,3 +16,6 @@ uninstall-hook:
 	while read -r fn; do $(RM) -rf "$$fn"; done <pyinstalled.txt
 	-$(RMDIR) $(DESTDIR)$(pythondir)/pyjalali && $(RM) pyinstalled.txt
 endif
+
+pkgconfigdir = $(libdir)/pkgconfig
+pkgconfig_DATA = $(PACKAGE).pc
--- origsrc/jcal-0.5.1/sources/configure.ac	2025-03-25 19:06:01.000000000 +0900
+++ src/jcal-0.5.1/sources/configure.ac	2026-01-13 09:19:08.632610200 +0900
@@ -1,7 +1,7 @@
 #                                               -*- Autoconf -*-
 # Process this file with autoconf to produce a configure script.
 
-AC_INIT([jcal], [0.4], [ghassemi@ftml.net])
+AC_INIT([jcal], [0.5.1], [ghassemi@ftml.net])
 
 AM_INIT_AUTOMAKE
 AC_PROG_LIBTOOL
@@ -27,7 +27,7 @@ AC_FUNC_MALLOC
 AC_FUNC_MKTIME
 AC_CHECK_FUNCS([gettimeofday localtime_r memset strcasecmp strchr strstr tzset])
 
-AC_CONFIG_FILES([Makefile
+AC_CONFIG_FILES([Makefile jcal.pc
                  libjalali/Makefile
                  test_kit/Makefile
                  test_kit/jalali/Makefile
@@ -39,7 +39,7 @@ AC_CONFIG_FILES([Makefile
 PYTHON_COMPAT=( python2.7 python2.6 )
 
 AC_ARG_ENABLE([pyjalali],
-              AC_HELP_STRING([--enbale-pyjalali], [Install Python bindings (pyjalali)]),
+              AC_HELP_STRING([--enable-pyjalali], [Install Python bindings (pyjalali)]),
               [case $enableval in
                       yes|no) installpyjalali=$enableval ;;
                       *) AC_MSG_ERROR([Bad value $enableval for --enable-pyjalali]) ;;
--- origsrc/jcal-0.5.1/sources/jcal.pc.in	1970-01-01 09:00:00.000000000 +0900
+++ src/jcal-0.5.1/sources/jcal.pc.in	2026-01-13 09:26:48.118238700 +0900
@@ -0,0 +1,10 @@
+prefix=@prefix@
+exec_prefix=@exec_prefix@
+libdir=@libdir@
+includedir=@includedir@
+
+Name: jcal
+Description: Jalali Calendar Library
+Version: @VERSION@
+Libs: -L${libdir} -ljalali
+Cflags: -I${includedir}
--- origsrc/jcal-0.5.1/sources/libjalali/Makefile.am	2025-03-25 19:06:01.000000000 +0900
+++ src/jcal-0.5.1/sources/libjalali/Makefile.am	2026-01-13 08:38:11.921193300 +0900
@@ -14,7 +14,7 @@ libjalali_la_SOURCES = jalali.c jtime.c
 #      compatible (have not removed a function from the API, for
 #      example...)
 
-libjalali_la_LDFLAGS = -version-info 0:5:0
+libjalali_la_LDFLAGS = -no-undefined -version-info 0:5:0
 includedir= $(prefix)/include/jalali
 include_HEADERS = jalali.h jtime.h jconfig.h
 INCLUDES        =  -I. -I@includedir@
--- origsrc/jcal-0.5.1/sources/test_kit/jalali/Makefile.am	2025-03-25 19:06:01.000000000 +0900
+++ src/jcal-0.5.1/sources/test_kit/jalali/Makefile.am	2026-01-13 08:38:35.008584700 +0900
@@ -1,6 +1,6 @@
 bin_PROGRAMS = elc get_date get_diff jalali_update jyinfo leap sec_converter
 
-INCLUDES = -I../../libjalali
+INCLUDES = -I../../libjalali -I$(top_srcdir)/libjalali
 
 AM_CFLAGS = @CFLAGS@ -fno-inline -D_REENTRANT -Wall \
 	-O2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE
--- origsrc/jcal-0.5.1/sources/test_kit/jtime/Makefile.am	2025-03-25 19:06:01.000000000 +0900
+++ src/jcal-0.5.1/sources/test_kit/jtime/Makefile.am	2026-01-13 08:38:45.245039500 +0900
@@ -1,6 +1,6 @@
 bin_PROGRAMS = jasctime jctime jgmtime jstrftime jstrptime jlocaltime jmktime
 
-INCLUDES = -I../../libjalali
+INCLUDES = -I../../libjalali -I$(top_srcdir)/libjalali
 
 AM_CFLAGS = @CFLAGS@ -fno-inline -D_REENTRANT -Wall \
 	-O2 -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE
