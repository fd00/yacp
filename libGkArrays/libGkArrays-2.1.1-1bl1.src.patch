--- origsrc/libGkArrays-2.1.1/src/Makefile.am	2025-12-09 14:41:30.830041100 +0900
+++ src/libGkArrays-2.1.1/src/Makefile.am	2025-12-09 18:24:38.832087300 +0900
@@ -138,11 +138,14 @@ libGkArrays_ladir = @abs_srcdir@
 libGkArrays_la_SOURCES = gkArrays.cpp solArray.cpp utils.cpp gkArraysBuilder.cpp gkSABuilder.cpp gkCFPSBuilder.cpp gkIFABuilder.cpp  readsReader.cpp largebinvect.cxx bitvector.cxx $(SUX_SRCS)
 libGkArrays_la_configdir = @libdir@/@PACKAGE@-@VERSION@/include
 libGkArrays_la_config_DATA = @abs_top_builddir@/config/config.h
-libGkArrays_la_LDFLAGS = -version-info @LIB_VERSION@ $(AM_LDFLAGS) # @LIBDIVSUFSORT@
+libGkArrays_la_LDFLAGS = -no-undefined -version-info @LIB_VERSION@ $(AM_LDFLAGS) # @LIBDIVSUFSORT@
 
 if INCLUDED_PROGRESSBAR
   AM_LDFLAGS += -L@abs_builddir@/libProgressBar-1.2.0/libProgressBar/.libs -lProgressBar
   AM_CPPFLAGS += -I@abs_srcdir@/libProgressBar-1.2.0/
+else
+  AM_LDFLAGS += `pkg-config libProgressBar --libs`
+  AM_CPPFLAGS += `pkg-config libProgressBar --cflags`
 endif
 
 noinst_PROGRAMS = buildTables
--- origsrc/libGkArrays-2.1.1/src/gkArrays.cpp	2016-06-18 02:02:00.000000000 +0900
+++ src/libGkArrays-2.1.1/src/gkArrays.cpp	2025-12-09 14:53:59.463894800 +0900
@@ -115,7 +115,7 @@
 #include "const.h"
 #include <sys/ioctl.h>
 #ifdef HAVE_LIBPROGRESSBAR
-#include <libProgressBar/progressBar.h>
+#include <ProgressBar/progressBar.h>
 #include <unistd.h>
 #endif
 
--- origsrc/libGkArrays-2.1.1/src/gkCFPSBuilder.cpp	2014-10-21 06:35:38.000000000 +0900
+++ src/libGkArrays-2.1.1/src/gkCFPSBuilder.cpp	2025-12-09 14:53:59.463894800 +0900
@@ -109,7 +109,7 @@
 #include <iostream>
 #include "gkArrays.h"
 #ifdef HAVE_LIBPROGRESSBAR
-#include <libProgressBar/progressBar.h>
+#include <ProgressBar/progressBar.h>
 #endif
 using namespace std;
 
--- origsrc/libGkArrays-2.1.1/src/gkIFABuilder.cpp	2014-10-21 06:35:37.000000000 +0900
+++ src/libGkArrays-2.1.1/src/gkIFABuilder.cpp	2025-12-09 14:54:47.073862400 +0900
@@ -107,8 +107,9 @@
 #include "utils.h"
 #include "solArray.h"
 #ifdef HAVE_LIBPROGRESSBAR
-#include <libProgressBar/progressBar.h>
+#include <ProgressBar/progressBar.h>
 #endif
+#include <iomanip>
 
 using namespace std;
 
--- origsrc/libGkArrays-2.1.1/src/gkSABuilder.cpp	2015-07-14 00:11:59.000000000 +0900
+++ src/libGkArrays-2.1.1/src/gkSABuilder.cpp	2025-12-09 18:18:34.670993600 +0900
@@ -116,9 +116,10 @@
 #include <gkIFABuilder.h>
 #include <const.h>
 #ifdef HAVE_LIBPROGRESSBAR
-#include <libProgressBar/progressBar.h>
+#include <ProgressBar/progressBar.h>
 uintSA PB_thread_master_start_pos = 0;
 #include <unistd.h>
+#include <iomanip>
 #endif
 
 using namespace std;
