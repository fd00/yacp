--- origsrc/libfolia-2.22/configure.ac	2025-12-11 21:07:55.000000000 +0900
+++ src/libfolia-2.22/configure.ac	2026-02-05 15:10:38.867346400 +0900
@@ -52,14 +52,22 @@ else
     export PKG_CONFIG_PATH="$prefix/lib/pkgconfig:$PKG_CONFIG_PATH"
 fi
 
-AC_CHECK_PROGS([DOXYGEN], [doxygen])
-if test -z "$DOXYGEN"; then
-   AC_MSG_WARN([Doxygen not found - continue without Doxygen support])
-else
-   AC_CHECK_PROGS([DOT], [dot])
-   if test -z "$DOT"; then
-      AC_MSG_ERROR([Doxygen needs dot, please install dot first])
+AC_ARG_ENABLE([doxygen],
+  AS_HELP_STRING([--disable-doxygen], [ignore doxygen even if installed]),
+  [enable_doxygen=$enableval], [enable_doxygen=yes])
+
+if test "x$enable_foo" = "xyes"; then
+   AC_CHECK_PROGS([DOXYGEN], [doxygen])
+   if test -z "$DOXYGEN"; then
+      AC_MSG_WARN([Doxygen not found - continue without Doxygen support])
+   else
+      AC_CHECK_PROGS([DOT], [dot])
+      if test -z "$DOT"; then
+         AC_MSG_ERROR([Doxygen needs dot, please install dot first])
+      fi
    fi
+else
+   DOXYGEN=
 fi
 AM_CONDITIONAL([HAVE_DOXYGEN], [test -n "$DOXYGEN"])
 
@@ -75,7 +83,7 @@ PKG_CHECK_MODULES([ticcutils], [ticcutil
 CXXFLAGS="$CXXFLAGS $ticcutils_CFLAGS"
 LIBS="$ticcutils_LIBS $LIBS"
 
-PKG_CHECK_MODULES([ICU], [icu-uc >= 50 icu-io] )
+PKG_CHECK_MODULES([ICU], [icu-uc >= 50 icu-io icu-i18n] )
 CXXFLAGS="$CXXFLAGS $ICU_CFLAGS"
 LIBS="$ICU_LIBS $LIBS"
 
--- origsrc/libfolia-2.22/src/Makefile.am	2025-12-11 21:07:55.000000000 +0900
+++ src/libfolia-2.22/src/Makefile.am	2026-02-05 15:10:38.872421400 +0900
@@ -10,6 +10,8 @@ libfolia_la_SOURCES = folia_impl.cxx fol
 	folia_types.cxx folia_properties.cxx folia_provenance.cxx \
 	folia_subclasses.cxx folia_textpolicy.cxx folia_engine.cxx
 
+libfolia_la_LDFLAGS += -no-undefined
+
 bin_PROGRAMS = folialint
 folialint_SOURCES = folialint.cxx
 
