--- origsrc/libp11-libp11-0.4.16/src/Makefile.am	2025-06-24 02:18:09.000000000 +0900
+++ src/libp11-libp11-0.4.16/src/Makefile.am	2026-01-20 00:23:27.385547500 +0900
@@ -31,7 +31,7 @@ libp11_la_LIBADD += libp11.lo
 else
 dist_noinst_DATA = libp11.rc
 endif
-libp11_la_LDFLAGS = $(AM_LDFLAGS) \
+libp11_la_LDFLAGS = $(AM_LDFLAGS) -no-undefined \
 	-version-info @LIBP11_LT_CURRENT@:@LIBP11_LT_REVISION@:@LIBP11_LT_AGE@
 
 if HAVE_LD_VERSION_SCRIPT
@@ -55,7 +55,7 @@ pkcs11_la_LIBADD = $(libp11_la_OBJECTS)
 
 # We intentionally not version symbols in this module because no
 # application links with it. It is dynamically opened.
-pkcs11_la_LDFLAGS = $(AM_LDFLAGS) -module -shared -shrext $(SHARED_EXT) \
+pkcs11_la_LDFLAGS = $(AM_LDFLAGS) -no-undefined -module -shared -shrext $(SHARED_EXT) \
 	-avoid-version -export-symbols "$(srcdir)/pkcs11.exports"
 
 if ENABLE_STATIC_ENGINE
