--- origsrc/libvips-8.17.3/libvips/include/vips/meson.build	2025-10-30 23:50:15.000000000 +0900
+++ src/libvips-8.17.3/libvips/include/vips/meson.build	2025-12-10 10:13:03.569554500 +0900
@@ -109,7 +109,7 @@ foreach _, section : build_features
     foreach key, arr : section
         dep_name = arr[0]
         found = arr[1].found()
-        if found and arr[1].type_name() != 'internal'
+        if found and arr[1].type_name() != 'internal' and arr[1].type_name() != 'library'
             dep_name = arr[1].name()
         endif
         dynamic_module = arr.length() > 2 ? ' (dynamic module: @0@)'.format(arr[2]) : ''
--- origsrc/libvips-8.17.3/meson.build	2025-10-30 23:50:15.000000000 +0900
+++ src/libvips-8.17.3/meson.build	2025-12-10 10:10:37.136676100 +0900
@@ -258,7 +258,11 @@ endif
 # quant package we use
 quantisation_package = disabler()
 
-imagequant_dep = dependency('imagequant', required: get_option('imagequant'))
+imagequant_dep = dependency('imagequant', required: false)
+imagequant_from_pkgconfig = imagequant_dep.found()
+if not imagequant_dep.found()
+    imagequant_dep = cc.find_library('imagequant', has_headers: ['libimagequant.h'], required: get_option('imagequant'))
+endif
 if imagequant_dep.found()
     external_deps += imagequant_dep
     cfg_var.set('HAVE_IMAGEQUANT', true)
@@ -705,9 +709,12 @@ build_features = {
 # which will make summary fail
 seen_deps = []
 foreach dep: external_deps + module_deps
-    if dep.type_name() != 'internal' and dep.name() not in seen_deps
-       summary(dep.name(), dep.version(), section: 'Dependencies')
-       seen_deps += dep.name()
+    if dep.type_name() != 'internal' and dep.type_name() != 'library'
+        dep_name = dep.name()
+        if dep_name not in seen_deps
+            summary(dep_name, dep.version(), section: 'Dependencies')
+            seen_deps += dep_name
+        endif
     endif
 endforeach
 foreach section_title, section : build_summary
@@ -717,7 +724,7 @@ foreach section_title, section: build_fe
     foreach key, arr : section
         dep_name = arr[0]
         found = arr[1].found()
-        if found and arr[1].type_name() != 'internal'
+        if found and arr[1].type_name() != 'internal' and arr[1].type_name() != 'library'
             dep_name = arr[1].name()
         endif
         dynamic_module = arr.length() > 2 ? [' (dynamic module: ', arr[2], ')'] : []
