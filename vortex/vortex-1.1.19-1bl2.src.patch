--- origsrc/vortex-1.1.19.b2413/configure.ac	2022-08-31 20:32:51.000000000 +0900
+++ src/vortex-1.1.19.b2413/configure.ac	2025-12-05 10:37:57.706365600 +0900
@@ -27,8 +27,8 @@ dnl  For comercial support on build BEEP
 dnl          
 dnl      Postal address:
 dnl         Advanced Software Production Line, S.L.
-dnl         C/ Antonio Suarez Nº10, Edificio Alius A, Despacho 102
-dnl         Alcalá de Henares 28802 Madrid
+dnl         C/ Antonio Suarez Nï¿½10, Edificio Alius A, Despacho 102
+dnl         Alcalï¿½ de Henares 28802 Madrid
 dnl         Spain
 dnl
 dnl      Email address:
@@ -58,7 +58,7 @@ AM_PROG_LIBTOOL
 compiler_options=""
 STRICT_PROTOTYPES=""
 if test "$compiler" = "gcc" ; then
-   compiler_options="-Wstrict-prototypes -Wall -Werror -g -fstack-protector-all -Wstack-protector"
+   compiler_options="-Wstrict-prototypes -Wall -g -fstack-protector-all -Wstack-protector"
    echo "Detected gcc compiler: $compiler, adding options: $compiler_options"
 fi
 AC_SUBST(compiler_options)
@@ -475,7 +475,7 @@ if test "$enable_py_vortex_support" = "y
       python_dir_temp=`eval echo ${pythondir}`
       # check python_install_dir and pythondir maches
       if test "$python_dir_check" != "ok" ; then
-          AC_MSG_ERROR([ERROR: pythondir variable is poiting to an unusable location: $python_dir_temp. Error detected: $python_dir_check. Fix your autoconf install or disable python building, for that, pass --disable-py-vortex to configure. This usually indicates a problem with automake package which provides the _AM_PATH_PYTHON_ macro.])
+          AC_MSG_ERROR([ERROR: pythondir variable is poiting to an unusable location: $python_dir_temp. Error detected: $python_dir_check. Fix your autoconf install or disable python building, for that, pass --disable-py-vortex to configure. This usually indicates a problem with automake package which provides the macro.])
       fi
       echo "Python install dir OK: $python_dir_temp"
    fi
@@ -494,7 +494,7 @@ AC_ARG_ENABLE(lua-vortex,   [   --disabl
 	      enable_lua_vortex_support=yes)
 if test "$enable_lua_vortex_support" = "yes" ; then
     dnl lua support
-    PKG_CHECK_MODULES(LUA, lua5.1, enable_lua_vortex_support="yes", enable_lua_vortex_support=="no")
+    PKG_CHECK_MODULES(LUA, lua-5.1, enable_lua_vortex_support="yes", enable_lua_vortex_support=="no")
 
     if test "$enable_lua_vortex_support" = "yes" ; then
        LUA_CFLAGS=`echo $LUA_CFLAGS | sed 's@ \/@/@g'`
@@ -503,7 +503,7 @@ if test "$enable_lua_vortex_support" = "
        AC_SUBST(LUA_LIBS)
 
        # installation directory
-       LUA_INSTALL_DIR=`pkg-config lua5.1 --variable=INSTALL_CMOD`
+       LUA_INSTALL_DIR=`pkg-config lua-5.1 --variable=INSTALL_CMOD`
        AC_SUBST(LUA_INSTALL_DIR)
 
        dnl check for console log
--- origsrc/vortex-1.1.19.b2413/lua-vortex/src/Makefile.am	2015-10-24 18:19:32.000000000 +0900
+++ src/vortex-1.1.19.b2413/lua-vortex/src/Makefile.am	2025-12-05 11:04:01.915511600 +0900
@@ -40,7 +40,7 @@ liblua_vortex_11_include_HEADERS = \
 	lua-vortex-frame.h \
 	lua-vortex-channelpool.h
 
-liblua_vortex_11_la_LDFLAGS = $(LUA_LIBS) $(top_srcdir)/src/libvortex-1.1.la -no-undefined
+liblua_vortex_11_la_LDFLAGS = $(LUA_LIBS) $(top_builddir)/src/libvortex-1.1.la -no-undefined
 
 ## SASL module
 if ENABLE_SASL_SUPPORT
@@ -52,7 +52,7 @@ liblua_vortex_sasl_11_la_SOURCES =	\
 liblua_vortex_sasl_11_include_HEADERS = \
 	lua-vortex-sasl.h 
 
-liblua_vortex_sasl_11_la_LDFLAGS = $(LUA_LIBS) $(top_srcdir)/src/libvortex-1.1.la $(top_srcdir)/sasl/libvortex-sasl-1.1.la $(AXL_LIBS) -no-undefined liblua_vortex_11.la
+liblua_vortex_sasl_11_la_LDFLAGS = $(LUA_LIBS) $(top_builddir)/src/libvortex-1.1.la $(top_builddir)/sasl/libvortex-sasl-1.1.la $(AXL_LIBS) -no-undefined liblua_vortex_11.la
 endif
 
 ## TLS module
@@ -65,7 +65,7 @@ liblua_vortex_tls_11_la_SOURCES =	\
 liblua_vortex_tls_11_include_HEADERS = \
 	lua-vortex-tls.h 
 
-liblua_vortex_tls_11_la_LDFLAGS = $(LUA_LIBS) $(top_srcdir)/src/libvortex-1.1.la $(top_srcdir)/tls/libvortex-tls-1.1.la $(AXL_LIBS) -no-undefined liblua_vortex_11.la
+liblua_vortex_tls_11_la_LDFLAGS = $(LUA_LIBS) $(top_builddir)/src/libvortex-1.1.la $(top_builddir)/tls/libvortex-tls-1.1.la $(AXL_LIBS) -no-undefined liblua_vortex_11.la
 endif
 
 ## ALIVE module
@@ -77,18 +77,18 @@ liblua_vortex_alive_11_la_SOURCES =	\
 liblua_vortex_alive_11_include_HEADERS = \
 	lua-vortex-alive.h 
 
-liblua_vortex_alive_11_la_LDFLAGS = $(LUA_LIBS) $(top_srcdir)/src/libvortex-1.1.la $(top_srcdir)/alive/libvortex-alive-1.1.la $(AXL_LIBS) $(VORTEX_ALIVE_LIBS) -no-undefined liblua_vortex_11.la
+liblua_vortex_alive_11_la_LDFLAGS = $(LUA_LIBS) $(top_builddir)/src/libvortex-1.1.la $(top_builddir)/alive/libvortex-alive-1.1.la $(AXL_LIBS) $(VORTEX_ALIVE_LIBS) -no-undefined liblua_vortex_11.la
 
 all-local:
 
-install-exec-hook:
-	@echo "create site installation ${DESTDIR}${LUA_INSTALL_DIR} if it does not exists"
-	test -d ${DESTDIR}${LUA_INSTALL_DIR} || install -d ${DESTDIR}${LUA_INSTALL_DIR}
-	@echo "site installation ${DESTDIR}${LUA_INSTALL_DIR}/vortex.so"
-	test -e ${DESTDIR}${LUA_INSTALL_DIR}/vortex.so || ln -s ${DESTDIR}${prefix}/lib/liblua_vortex_11.so ${DESTDIR}${LUA_INSTALL_DIR}/vortex.so
-	test -d ${DESTDIR}${LUA_INSTALL_DIR}/vortex || mkdir ${DESTDIR}${LUA_INSTALL_DIR}/vortex
-	test -e ${DESTDIR}${LUA_INSTALL_DIR}/vortex/sasl.so || ln -s ${DESTDIR}${prefix}/lib/liblua_vortex_sasl_11.so ${DESTDIR}${LUA_INSTALL_DIR}/vortex/sasl.so
-	test -e ${DESTDIR}${LUA_INSTALL_DIR}/vortex/tls.so || ln -s ${DESTDIR}${prefix}/lib/liblua_vortex_tls_11.so ${DESTDIR}${LUA_INSTALL_DIR}/vortex/tls.so
-	test -e ${DESTDIR}${LUA_INSTALL_DIR}/vortex/alive.so || ln -s ${DESTDIR}${prefix}/lib/liblua_vortex_alive_11.so ${DESTDIR}${LUA_INSTALL_DIR}/vortex/alive.so
+#install-exec-hook:
+#	@echo "create site installation ${DESTDIR}${LUA_INSTALL_DIR} if it does not exists"
+#	test -d ${DESTDIR}${LUA_INSTALL_DIR} || install -d ${DESTDIR}${LUA_INSTALL_DIR}
+#	@echo "site installation ${DESTDIR}${LUA_INSTALL_DIR}/vortex.so"
+#	test -e ${DESTDIR}${LUA_INSTALL_DIR}/vortex.so || ln -s ${DESTDIR}${prefix}/lib/liblua_vortex_11.so ${DESTDIR}${LUA_INSTALL_DIR}/vortex.so
+#	test -d ${DESTDIR}${LUA_INSTALL_DIR}/vortex || mkdir ${DESTDIR}${LUA_INSTALL_DIR}/vortex
+#	test -e ${DESTDIR}${LUA_INSTALL_DIR}/vortex/sasl.so || ln -s ${DESTDIR}${prefix}/lib/liblua_vortex_sasl_11.so ${DESTDIR}${LUA_INSTALL_DIR}/vortex/sasl.so
+#	test -e ${DESTDIR}${LUA_INSTALL_DIR}/vortex/tls.so || ln -s ${DESTDIR}${prefix}/lib/liblua_vortex_tls_11.so ${DESTDIR}${LUA_INSTALL_DIR}/vortex/tls.so
+#	test -e ${DESTDIR}${LUA_INSTALL_DIR}/vortex/alive.so || ln -s ${DESTDIR}${prefix}/lib/liblua_vortex_alive_11.so ${DESTDIR}${LUA_INSTALL_DIR}/vortex/alive.so
 
 
--- origsrc/vortex-1.1.19.b2413/lua-vortex/test/Makefile.am	2015-10-24 18:19:32.000000000 +0900
+++ src/vortex-1.1.19.b2413/lua-vortex/test/Makefile.am	2025-12-05 11:03:36.413407000 +0900
@@ -1,12 +1,12 @@
 EXTRA_DIST = vortex-regression-client.lua vortex-regression-listener.lua test.crt test.key copy-if-exists.sh
 all-local:
         # prepare content from src dir
-	cd ..; cd src; make; cd ../test
-	test -e vortex.so || ln -s ../src/.libs/liblua_vortex_11.so vortex.so
-	test -d vortex || mkdir vortex
-	./copy-if-exists.sh ../src/.libs/liblua_vortex_sasl_11.so.0.0.0 vortex/sasl.so  
-	./copy-if-exists.sh ../src/.libs/liblua_vortex_tls_11.so.0.0.0 vortex/tls.so
-	./copy-if-exists.sh ../src/.libs/liblua_vortex_alive_11.so.0.0.0 vortex/alive.so
+#	cd ..; cd src; make; cd ../test
+#	test -e vortex.so || ln -s ../src/.libs/liblua_vortex_11.so vortex.so
+#	test -d vortex || mkdir vortex
+#	./copy-if-exists.sh ../src/.libs/liblua_vortex_sasl_11.so.0.0.0 vortex/sasl.so  
+#	./copy-if-exists.sh ../src/.libs/liblua_vortex_tls_11.so.0.0.0 vortex/tls.so
+#	./copy-if-exists.sh ../src/.libs/liblua_vortex_alive_11.so.0.0.0 vortex/alive.so
 
 
 
--- origsrc/vortex-1.1.19.b2413/src/vortex.c	2022-08-31 20:32:54.000000000 +0900
+++ src/vortex-1.1.19.b2413/src/vortex.c	2025-12-05 10:33:26.656930600 +0900
@@ -51,7 +51,7 @@
  * with log support */
 #if defined(ENABLE_VORTEX_LOG)
 /* but avoid defining it on macosx because it seems to break the compiler */
-#if !defined(__APPLE__)
+#if !defined(__APPLE__) && !defined(__CYGWIN__)
 int vsnprintf(char *str, size_t size, const char *format, va_list ap);
 #endif
 #endif
