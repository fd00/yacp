--- origsrc/vsearch-2.30.4/configure.ac	2026-01-19 21:05:18.000000000 +0900
+++ src/vsearch-2.30.4/configure.ac	2026-02-06 22:32:36.081655700 +0900
@@ -93,7 +93,11 @@ case $target in
      x86_64*) target_x86_64="yes" ;;
 esac
 
-AC_CHECK_HEADERS([windows.h], [AM_CONDITIONAL(TARGET_WIN, true)], [AM_CONDITIONAL(TARGET_WIN, false)])
+if test "$host_os" = "cygwin"; then
+  AM_CONDITIONAL(TARGET_WIN, false)
+else
+  AC_CHECK_HEADERS([windows.h], [AM_CONDITIONAL(TARGET_WIN, true)], [AM_CONDITIONAL(TARGET_WIN, false)])
+fi
 
 AM_CONDITIONAL(HAVE_PS2PDF, test "x${have_ps2pdf}" = "xyes")
 AM_CONDITIONAL(HAVE_MAN_HTML, test "x${have_man_html}" = "xyes")
--- origsrc/vsearch-2.30.4/src/dynlibs.cc	2026-01-19 21:05:18.000000000 +0900
+++ src/vsearch-2.30.4/src/dynlibs.cc	2026-02-06 22:33:43.694152000 +0900
@@ -72,6 +72,8 @@ HMODULE gz_lib;
 # else
 #  ifdef __APPLE__
 const std::string gz_libname = "libz.dylib";
+#  elif defined(__CYGWIN__)
+const std::string gz_libname = "cygz.dll";
 #  else
 const std::string gz_libname = "libz.so.1";
 #  endif
@@ -91,6 +93,8 @@ HMODULE bz2_lib;
 # else
 #  ifdef __APPLE__
 const std::string bz2_libname = "libbz2.dylib";
+#  elif defined(__CYGWIN__)
+const std::string bz2_libname = "cygbz2-1.dll";
 #  else
 const std::string bz2_libname = "libbz2.so.1";
 #  endif
--- origsrc/vsearch-2.30.4/src/utils/open_file.cpp	2026-01-19 21:05:18.000000000 +0900
+++ src/vsearch-2.30.4/src/utils/open_file.cpp	2026-02-06 22:58:15.916413200 +0900
@@ -63,7 +63,8 @@
 #include <unistd.h>  // dup, STDIN_FILENO, STDOUT_FILENO
 #include <cassert>
 #include <cerrno>  // errno
-#include <cstdio>  // std::fopen, fdopen
+#include <cstdio>  // std::fopen
+#include <stdio.h>  // fdopen
 #include <cstring>  // std::strcmp
 
 
@@ -96,7 +97,7 @@ namespace {
                             ModeString const & mode) -> FileHandle {
     assert(file_descriptor >= 0);
     assert(mode.mode != nullptr);
-    return FileHandle{fdopen(file_descriptor, mode.mode)};
+    return FileHandle(fdopen(file_descriptor, mode.mode));
   }
 
 
